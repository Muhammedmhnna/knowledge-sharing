{
  "version": 3,
  "sources": ["../../@gradio/client/dist/index.js"],
  "sourcesContent": ["var __defProp = Object.defineProperty;\r\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\r\nvar __publicField = (obj, key, value) => {\r\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\r\n  return value;\r\n};\r\nvar __accessCheck = (obj, member, msg) => {\r\n  if (!member.has(obj))\r\n    throw TypeError(\"Cannot \" + msg);\r\n};\r\nvar __privateGet = (obj, member, getter) => {\r\n  __accessCheck(obj, member, \"read from private field\");\r\n  return getter ? getter.call(obj) : member.get(obj);\r\n};\r\nvar __privateAdd = (obj, member, value) => {\r\n  if (member.has(obj))\r\n    throw TypeError(\"Cannot add the same private member more than once\");\r\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\r\n};\r\nvar __privateSet = (obj, member, value, setter) => {\r\n  __accessCheck(obj, member, \"write to private field\");\r\n  setter ? setter.call(obj, value) : member.set(obj, value);\r\n  return value;\r\n};\r\nvar _currentLine;\r\nvar fn = new Intl.Collator(0, { numeric: 1 }).compare;\r\nfunction semiver(a, b, bool) {\r\n  a = a.split(\".\");\r\n  b = b.split(\".\");\r\n  return fn(a[0], b[0]) || fn(a[1], b[1]) || (b[2] = b.slice(2).join(\".\"), bool = /[.-]/.test(a[2] = a.slice(2).join(\".\")), bool == /[.-]/.test(b[2]) ? fn(a[2], b[2]) : bool ? -1 : 1);\r\n}\r\nconst HOST_URL = `host`;\r\nconst SSE_URL = `queue/data`;\r\nconst SSE_DATA_URL = `queue/join`;\r\nconst UPLOAD_URL = `upload`;\r\nconst LOGIN_URL = `login`;\r\nconst CONFIG_URL = `config`;\r\nconst API_INFO_URL = `info`;\r\nconst RUNTIME_URL = `runtime`;\r\nconst SLEEPTIME_URL = `sleeptime`;\r\nconst HEARTBEAT_URL = `heartbeat`;\r\nconst COMPONENT_SERVER_URL = `component_server`;\r\nconst RESET_URL = `reset`;\r\nconst CANCEL_URL = `cancel`;\r\nconst SPACE_FETCHER_URL = \"https://gradio-space-api-fetcher-v2.hf.space/api\";\r\nconst QUEUE_FULL_MSG = \"This application is currently busy. Please try again. \";\r\nconst BROKEN_CONNECTION_MSG = \"Connection errored out. \";\r\nconst CONFIG_ERROR_MSG = \"Could not resolve app config. \";\r\nconst SPACE_STATUS_ERROR_MSG = \"Could not get space status. \";\r\nconst API_INFO_ERROR_MSG = \"Could not get API info. \";\r\nconst SPACE_METADATA_ERROR_MSG = \"Space metadata could not be loaded. \";\r\nconst INVALID_URL_MSG = \"Invalid URL. A full URL path is required.\";\r\nconst UNAUTHORIZED_MSG = \"Not authorized to access this space. \";\r\nconst INVALID_CREDENTIALS_MSG = \"Invalid credentials. Could not login. \";\r\nconst MISSING_CREDENTIALS_MSG = \"Login credentials are required to access this space.\";\r\nconst NODEJS_FS_ERROR_MSG = \"File system access is only available in Node.js environments\";\r\nconst ROOT_URL_ERROR_MSG = \"Root URL not found in client config\";\r\nconst FILE_PROCESSING_ERROR_MSG = \"Error uploading file\";\r\nfunction resolve_root(base_url, root_path, prioritize_base) {\r\n  if (root_path.startsWith(\"http://\") || root_path.startsWith(\"https://\")) {\r\n    return prioritize_base ? base_url : root_path;\r\n  }\r\n  return base_url + root_path;\r\n}\r\nasync function get_jwt(space, token, cookies) {\r\n  try {\r\n    const r = await fetch(`https://huggingface.co/api/spaces/${space}/jwt`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        ...cookies ? { Cookie: cookies } : {}\r\n      }\r\n    });\r\n    const jwt = (await r.json()).token;\r\n    return jwt || false;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}\r\nfunction map_names_to_ids(fns) {\r\n  let apis = {};\r\n  fns.forEach(({ api_name, id }) => {\r\n    if (api_name)\r\n      apis[api_name] = id;\r\n  });\r\n  return apis;\r\n}\r\nasync function resolve_config(endpoint) {\r\n  var _a;\r\n  const headers = this.options.hf_token ? { Authorization: `Bearer ${this.options.hf_token}` } : {};\r\n  headers[\"Content-Type\"] = \"application/json\";\r\n  if (typeof window !== \"undefined\" && window.gradio_config && location.origin !== \"http://localhost:9876\" && !window.gradio_config.dev_mode) {\r\n    const path = window.gradio_config.root;\r\n    const config = window.gradio_config;\r\n    let config_root = resolve_root(endpoint, config.root, false);\r\n    config.root = config_root;\r\n    return { ...config, path };\r\n  } else if (endpoint) {\r\n    let config_url = join_urls(\r\n      endpoint,\r\n      this.deep_link ? CONFIG_URL + \"?deep_link=\" + this.deep_link : CONFIG_URL\r\n    );\r\n    const response = await this.fetch(config_url, {\r\n      headers,\r\n      credentials: \"include\"\r\n    });\r\n    if ((response == null ? void 0 : response.status) === 401 && !this.options.auth) {\r\n      throw new Error(MISSING_CREDENTIALS_MSG);\r\n    } else if ((response == null ? void 0 : response.status) === 401 && this.options.auth) {\r\n      throw new Error(INVALID_CREDENTIALS_MSG);\r\n    }\r\n    if ((response == null ? void 0 : response.status) === 200) {\r\n      let config = await response.json();\r\n      config.path = config.path ?? \"\";\r\n      config.root = endpoint;\r\n      (_a = config.dependencies) == null ? void 0 : _a.forEach((dep, i) => {\r\n        if (dep.id === void 0) {\r\n          dep.id = i;\r\n        }\r\n      });\r\n      return config;\r\n    } else if ((response == null ? void 0 : response.status) === 401) {\r\n      throw new Error(UNAUTHORIZED_MSG);\r\n    }\r\n    throw new Error(CONFIG_ERROR_MSG);\r\n  }\r\n  throw new Error(CONFIG_ERROR_MSG);\r\n}\r\nasync function resolve_cookies() {\r\n  const { http_protocol, host } = await process_endpoint(\r\n    this.app_reference,\r\n    this.options.hf_token\r\n  );\r\n  try {\r\n    if (this.options.auth) {\r\n      const cookie_header = await get_cookie_header(\r\n        http_protocol,\r\n        host,\r\n        this.options.auth,\r\n        this.fetch,\r\n        this.options.hf_token\r\n      );\r\n      if (cookie_header)\r\n        this.set_cookies(cookie_header);\r\n    }\r\n  } catch (e) {\r\n    throw Error(e.message);\r\n  }\r\n}\r\nasync function get_cookie_header(http_protocol, host, auth, _fetch, hf_token) {\r\n  const formData = new FormData();\r\n  formData.append(\"username\", auth == null ? void 0 : auth[0]);\r\n  formData.append(\"password\", auth == null ? void 0 : auth[1]);\r\n  let headers = {};\r\n  if (hf_token) {\r\n    headers.Authorization = `Bearer ${hf_token}`;\r\n  }\r\n  const res = await _fetch(`${http_protocol}//${host}/${LOGIN_URL}`, {\r\n    headers,\r\n    method: \"POST\",\r\n    body: formData,\r\n    credentials: \"include\"\r\n  });\r\n  if (res.status === 200) {\r\n    return res.headers.get(\"set-cookie\");\r\n  } else if (res.status === 401) {\r\n    throw new Error(INVALID_CREDENTIALS_MSG);\r\n  } else {\r\n    throw new Error(SPACE_METADATA_ERROR_MSG);\r\n  }\r\n}\r\nfunction determine_protocol(endpoint) {\r\n  if (endpoint.startsWith(\"http\")) {\r\n    const { protocol, host, pathname } = new URL(endpoint);\r\n    return {\r\n      ws_protocol: protocol === \"https:\" ? \"wss\" : \"ws\",\r\n      http_protocol: protocol,\r\n      host: host + (pathname !== \"/\" ? pathname : \"\")\r\n    };\r\n  } else if (endpoint.startsWith(\"file:\")) {\r\n    return {\r\n      ws_protocol: \"ws\",\r\n      http_protocol: \"http:\",\r\n      host: \"lite.local\"\r\n      // Special fake hostname only used for this case. This matches the hostname allowed in `is_self_host()` in `js/wasm/network/host.ts`.\r\n    };\r\n  }\r\n  return {\r\n    ws_protocol: \"wss\",\r\n    http_protocol: \"https:\",\r\n    host: new URL(endpoint).host\r\n  };\r\n}\r\nconst parse_and_set_cookies = (cookie_header) => {\r\n  let cookies = [];\r\n  const parts = cookie_header.split(/,(?=\\s*[^\\s=;]+=[^\\s=;]+)/);\r\n  parts.forEach((cookie) => {\r\n    const [cookie_name, cookie_value] = cookie.split(\";\")[0].split(\"=\");\r\n    if (cookie_name && cookie_value) {\r\n      cookies.push(`${cookie_name.trim()}=${cookie_value.trim()}`);\r\n    }\r\n  });\r\n  return cookies;\r\n};\r\nconst RE_SPACE_NAME = /^[a-zA-Z0-9_\\-\\.]+\\/[a-zA-Z0-9_\\-\\.]+$/;\r\nconst RE_SPACE_DOMAIN = /.*hf\\.space\\/{0,1}.*$/;\r\nasync function process_endpoint(app_reference, hf_token) {\r\n  const headers = {};\r\n  if (hf_token) {\r\n    headers.Authorization = `Bearer ${hf_token}`;\r\n  }\r\n  const _app_reference = app_reference.trim().replace(/\\/$/, \"\");\r\n  if (RE_SPACE_NAME.test(_app_reference)) {\r\n    try {\r\n      const res = await fetch(\r\n        `https://huggingface.co/api/spaces/${_app_reference}/${HOST_URL}`,\r\n        { headers }\r\n      );\r\n      const _host = (await res.json()).host;\r\n      return {\r\n        space_id: app_reference,\r\n        ...determine_protocol(_host)\r\n      };\r\n    } catch (e) {\r\n      throw new Error(SPACE_METADATA_ERROR_MSG);\r\n    }\r\n  }\r\n  if (RE_SPACE_DOMAIN.test(_app_reference)) {\r\n    const { ws_protocol, http_protocol, host } = determine_protocol(_app_reference);\r\n    return {\r\n      space_id: host.split(\"/\")[0].replace(\".hf.space\", \"\"),\r\n      ws_protocol,\r\n      http_protocol,\r\n      host\r\n    };\r\n  }\r\n  return {\r\n    space_id: false,\r\n    ...determine_protocol(_app_reference)\r\n  };\r\n}\r\nconst join_urls = (...urls) => {\r\n  try {\r\n    return urls.reduce((base_url, part) => {\r\n      base_url = base_url.replace(/\\/+$/, \"\");\r\n      part = part.replace(/^\\/+/, \"\");\r\n      return new URL(part, base_url + \"/\").toString();\r\n    });\r\n  } catch (e) {\r\n    throw new Error(INVALID_URL_MSG);\r\n  }\r\n};\r\nfunction transform_api_info(api_info, config, api_map) {\r\n  const transformed_info = {\r\n    named_endpoints: {},\r\n    unnamed_endpoints: {}\r\n  };\r\n  Object.keys(api_info).forEach((category) => {\r\n    if (category === \"named_endpoints\" || category === \"unnamed_endpoints\") {\r\n      transformed_info[category] = {};\r\n      Object.entries(api_info[category]).forEach(\r\n        ([endpoint, { parameters, returns }]) => {\r\n          var _a, _b, _c, _d;\r\n          const dependencyIndex = ((_a = config.dependencies.find(\r\n            (dep) => dep.api_name === endpoint || dep.api_name === endpoint.replace(\"/\", \"\")\r\n          )) == null ? void 0 : _a.id) || api_map[endpoint.replace(\"/\", \"\")] || -1;\r\n          const dependencyTypes = dependencyIndex !== -1 ? (_b = config.dependencies.find((dep) => dep.id == dependencyIndex)) == null ? void 0 : _b.types : { generator: false, cancel: false };\r\n          if (dependencyIndex !== -1 && ((_d = (_c = config.dependencies.find((dep) => dep.id == dependencyIndex)) == null ? void 0 : _c.inputs) == null ? void 0 : _d.length) !== parameters.length) {\r\n            const components = config.dependencies.find((dep) => dep.id == dependencyIndex).inputs.map(\r\n              (input) => {\r\n                var _a2;\r\n                return (_a2 = config.components.find((c) => c.id === input)) == null ? void 0 : _a2.type;\r\n              }\r\n            );\r\n            try {\r\n              components.forEach((comp, idx) => {\r\n                if (comp === \"state\") {\r\n                  const new_param = {\r\n                    component: \"state\",\r\n                    example: null,\r\n                    parameter_default: null,\r\n                    parameter_has_default: true,\r\n                    parameter_name: null,\r\n                    hidden: true\r\n                  };\r\n                  parameters.splice(idx, 0, new_param);\r\n                }\r\n              });\r\n            } catch (e) {\r\n              console.error(e);\r\n            }\r\n          }\r\n          const transform_type = (data, component, serializer, signature_type) => ({\r\n            ...data,\r\n            description: get_description(data == null ? void 0 : data.type, serializer),\r\n            type: get_type(data == null ? void 0 : data.type, component, serializer, signature_type) || \"\"\r\n          });\r\n          transformed_info[category][endpoint] = {\r\n            parameters: parameters.map(\r\n              (p) => transform_type(p, p == null ? void 0 : p.component, p == null ? void 0 : p.serializer, \"parameter\")\r\n            ),\r\n            returns: returns.map(\r\n              (r) => transform_type(r, r == null ? void 0 : r.component, r == null ? void 0 : r.serializer, \"return\")\r\n            ),\r\n            type: dependencyTypes\r\n          };\r\n        }\r\n      );\r\n    }\r\n  });\r\n  return transformed_info;\r\n}\r\nfunction get_type(type, component, serializer, signature_type) {\r\n  if (component === \"Api\")\r\n    return type.type;\r\n  switch (type == null ? void 0 : type.type) {\r\n    case \"string\":\r\n      return \"string\";\r\n    case \"boolean\":\r\n      return \"boolean\";\r\n    case \"number\":\r\n      return \"number\";\r\n  }\r\n  if (serializer === \"JSONSerializable\" || serializer === \"StringSerializable\") {\r\n    return \"any\";\r\n  } else if (serializer === \"ListStringSerializable\") {\r\n    return \"string[]\";\r\n  } else if (component === \"Image\") {\r\n    return signature_type === \"parameter\" ? \"Blob | File | Buffer\" : \"string\";\r\n  } else if (serializer === \"FileSerializable\") {\r\n    if ((type == null ? void 0 : type.type) === \"array\") {\r\n      return signature_type === \"parameter\" ? \"(Blob | File | Buffer)[]\" : `{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}[]`;\r\n    }\r\n    return signature_type === \"parameter\" ? \"Blob | File | Buffer\" : `{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}`;\r\n  } else if (serializer === \"GallerySerializable\") {\r\n    return signature_type === \"parameter\" ? \"[(Blob | File | Buffer), (string | null)][]\" : `[{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}, (string | null))][]`;\r\n  }\r\n}\r\nfunction get_description(type, serializer) {\r\n  if (serializer === \"GallerySerializable\") {\r\n    return \"array of [file, label] tuples\";\r\n  } else if (serializer === \"ListStringSerializable\") {\r\n    return \"array of strings\";\r\n  } else if (serializer === \"FileSerializable\") {\r\n    return \"array of files or single file\";\r\n  }\r\n  return type == null ? void 0 : type.description;\r\n}\r\nfunction handle_message(data, last_status) {\r\n  const queue = true;\r\n  switch (data.msg) {\r\n    case \"send_data\":\r\n      return { type: \"data\" };\r\n    case \"send_hash\":\r\n      return { type: \"hash\" };\r\n    case \"queue_full\":\r\n      return {\r\n        type: \"update\",\r\n        status: {\r\n          queue,\r\n          message: QUEUE_FULL_MSG,\r\n          stage: \"error\",\r\n          code: data.code,\r\n          success: data.success\r\n        }\r\n      };\r\n    case \"heartbeat\":\r\n      return {\r\n        type: \"heartbeat\"\r\n      };\r\n    case \"unexpected_error\":\r\n      return {\r\n        type: \"unexpected_error\",\r\n        status: {\r\n          queue,\r\n          message: data.message,\r\n          stage: \"error\",\r\n          success: false\r\n        }\r\n      };\r\n    case \"estimation\":\r\n      return {\r\n        type: \"update\",\r\n        status: {\r\n          queue,\r\n          stage: last_status || \"pending\",\r\n          code: data.code,\r\n          size: data.queue_size,\r\n          position: data.rank,\r\n          eta: data.rank_eta,\r\n          success: data.success\r\n        }\r\n      };\r\n    case \"progress\":\r\n      return {\r\n        type: \"update\",\r\n        status: {\r\n          queue,\r\n          stage: \"pending\",\r\n          code: data.code,\r\n          progress_data: data.progress_data,\r\n          success: data.success\r\n        }\r\n      };\r\n    case \"log\":\r\n      return { type: \"log\", data };\r\n    case \"process_generating\":\r\n      return {\r\n        type: \"generating\",\r\n        status: {\r\n          queue,\r\n          message: !data.success ? data.output.error : null,\r\n          stage: data.success ? \"generating\" : \"error\",\r\n          code: data.code,\r\n          progress_data: data.progress_data,\r\n          eta: data.average_duration,\r\n          changed_state_ids: data.success ? data.output.changed_state_ids : void 0\r\n        },\r\n        data: data.success ? data.output : null\r\n      };\r\n    case \"process_streaming\":\r\n      return {\r\n        type: \"streaming\",\r\n        status: {\r\n          queue,\r\n          message: data.output.error,\r\n          stage: \"streaming\",\r\n          time_limit: data.time_limit,\r\n          code: data.code,\r\n          progress_data: data.progress_data,\r\n          eta: data.eta\r\n        },\r\n        data: data.output\r\n      };\r\n    case \"process_completed\":\r\n      if (\"error\" in data.output) {\r\n        return {\r\n          type: \"update\",\r\n          status: {\r\n            queue,\r\n            title: data.output.title,\r\n            message: data.output.error,\r\n            visible: data.output.visible,\r\n            duration: data.output.duration,\r\n            stage: \"error\",\r\n            code: data.code,\r\n            success: data.success\r\n          }\r\n        };\r\n      }\r\n      return {\r\n        type: \"complete\",\r\n        status: {\r\n          queue,\r\n          message: !data.success ? data.output.error : void 0,\r\n          stage: data.success ? \"complete\" : \"error\",\r\n          code: data.code,\r\n          progress_data: data.progress_data,\r\n          changed_state_ids: data.success ? data.output.changed_state_ids : void 0\r\n        },\r\n        data: data.success ? data.output : null\r\n      };\r\n    case \"process_starts\":\r\n      return {\r\n        type: \"update\",\r\n        status: {\r\n          queue,\r\n          stage: \"pending\",\r\n          code: data.code,\r\n          size: data.rank,\r\n          position: 0,\r\n          success: data.success,\r\n          eta: data.eta\r\n        },\r\n        original_msg: \"process_starts\"\r\n      };\r\n  }\r\n  return { type: \"none\", status: { stage: \"error\", queue } };\r\n}\r\nconst map_data_to_params = (data = [], endpoint_info) => {\r\n  const parameters = endpoint_info ? endpoint_info.parameters : [];\r\n  if (Array.isArray(data)) {\r\n    if (endpoint_info && parameters.length > 0 && data.length > parameters.length) {\r\n      console.warn(\"Too many arguments provided for the endpoint.\");\r\n    }\r\n    return data;\r\n  }\r\n  const resolved_data = [];\r\n  const provided_keys = Object.keys(data);\r\n  parameters.forEach((param, index) => {\r\n    if (data.hasOwnProperty(param.parameter_name)) {\r\n      resolved_data[index] = data[param.parameter_name];\r\n    } else if (param.parameter_has_default) {\r\n      resolved_data[index] = param.parameter_default;\r\n    } else {\r\n      throw new Error(\r\n        `No value provided for required parameter: ${param.parameter_name}`\r\n      );\r\n    }\r\n  });\r\n  provided_keys.forEach((key) => {\r\n    if (!parameters.some((param) => param.parameter_name === key)) {\r\n      throw new Error(\r\n        `Parameter \\`${key}\\` is not a valid keyword argument. Please refer to the API for usage.`\r\n      );\r\n    }\r\n  });\r\n  resolved_data.forEach((value, idx) => {\r\n    if (value === void 0 && !parameters[idx].parameter_has_default) {\r\n      throw new Error(\r\n        `No value provided for required parameter: ${parameters[idx].parameter_name}`\r\n      );\r\n    }\r\n  });\r\n  return resolved_data;\r\n};\r\nasync function view_api() {\r\n  if (this.api_info)\r\n    return this.api_info;\r\n  const { hf_token } = this.options;\r\n  const { config } = this;\r\n  const headers = { \"Content-Type\": \"application/json\" };\r\n  if (hf_token) {\r\n    headers.Authorization = `Bearer ${hf_token}`;\r\n  }\r\n  if (!config) {\r\n    return;\r\n  }\r\n  try {\r\n    let response;\r\n    let api_info;\r\n    if (typeof window !== \"undefined\" && window.gradio_api_info) {\r\n      api_info = window.gradio_api_info;\r\n    } else {\r\n      if (semiver((config == null ? void 0 : config.version) || \"2.0.0\", \"3.30\") < 0) {\r\n        response = await this.fetch(SPACE_FETCHER_URL, {\r\n          method: \"POST\",\r\n          body: JSON.stringify({\r\n            serialize: false,\r\n            config: JSON.stringify(config)\r\n          }),\r\n          headers,\r\n          credentials: \"include\"\r\n        });\r\n      } else {\r\n        const url = join_urls(config.root, this.api_prefix, API_INFO_URL);\r\n        response = await this.fetch(url, {\r\n          headers,\r\n          credentials: \"include\"\r\n        });\r\n      }\r\n      if (!response.ok) {\r\n        throw new Error(BROKEN_CONNECTION_MSG);\r\n      }\r\n      api_info = await response.json();\r\n    }\r\n    if (\"api\" in api_info) {\r\n      api_info = api_info.api;\r\n    }\r\n    if (api_info.named_endpoints[\"/predict\"] && !api_info.unnamed_endpoints[\"0\"]) {\r\n      api_info.unnamed_endpoints[0] = api_info.named_endpoints[\"/predict\"];\r\n    }\r\n    return transform_api_info(api_info, config, this.api_map);\r\n  } catch (e) {\r\n    throw new Error(\"Could not get API info. \" + e.message);\r\n  }\r\n}\r\nasync function upload_files(root_url, files, upload_id) {\r\n  var _a;\r\n  const headers = {};\r\n  if ((_a = this == null ? void 0 : this.options) == null ? void 0 : _a.hf_token) {\r\n    headers.Authorization = `Bearer ${this.options.hf_token}`;\r\n  }\r\n  const chunkSize = 1e3;\r\n  const uploadResponses = [];\r\n  let response;\r\n  for (let i = 0; i < files.length; i += chunkSize) {\r\n    const chunk = files.slice(i, i + chunkSize);\r\n    const formData = new FormData();\r\n    chunk.forEach((file) => {\r\n      formData.append(\"files\", file);\r\n    });\r\n    try {\r\n      const upload_url = upload_id ? `${root_url}${this.api_prefix}/${UPLOAD_URL}?upload_id=${upload_id}` : `${root_url}${this.api_prefix}/${UPLOAD_URL}`;\r\n      response = await this.fetch(upload_url, {\r\n        method: \"POST\",\r\n        body: formData,\r\n        headers,\r\n        credentials: \"include\"\r\n      });\r\n    } catch (e) {\r\n      throw new Error(BROKEN_CONNECTION_MSG + e.message);\r\n    }\r\n    if (!response.ok) {\r\n      const error_text = await response.text();\r\n      return { error: `HTTP ${response.status}: ${error_text}` };\r\n    }\r\n    const output = await response.json();\r\n    if (output) {\r\n      uploadResponses.push(...output);\r\n    }\r\n  }\r\n  return { files: uploadResponses };\r\n}\r\nasync function upload(file_data, root_url, upload_id, max_file_size) {\r\n  let files = (Array.isArray(file_data) ? file_data : [file_data]).map(\r\n    (file_data2) => file_data2.blob\r\n  );\r\n  const oversized_files = files.filter(\r\n    (f) => f.size > (max_file_size ?? Infinity)\r\n  );\r\n  if (oversized_files.length) {\r\n    throw new Error(\r\n      `File size exceeds the maximum allowed size of ${max_file_size} bytes: ${oversized_files.map((f) => f.name).join(\", \")}`\r\n    );\r\n  }\r\n  return await Promise.all(\r\n    await this.upload_files(root_url, files, upload_id).then(\r\n      async (response) => {\r\n        if (response.error) {\r\n          throw new Error(response.error);\r\n        } else {\r\n          if (response.files) {\r\n            return response.files.map((f, i) => {\r\n              const file = new FileData({\r\n                ...file_data[i],\r\n                path: f,\r\n                url: `${root_url}${this.api_prefix}/file=${f}`\r\n              });\r\n              return file;\r\n            });\r\n          }\r\n          return [];\r\n        }\r\n      }\r\n    )\r\n  );\r\n}\r\nasync function prepare_files(files, is_stream) {\r\n  return files.map(\r\n    (f) => new FileData({\r\n      path: f.name,\r\n      orig_name: f.name,\r\n      blob: f,\r\n      size: f.size,\r\n      mime_type: f.type,\r\n      is_stream\r\n    })\r\n  );\r\n}\r\nclass FileData {\r\n  constructor({\r\n    path,\r\n    url,\r\n    orig_name,\r\n    size,\r\n    blob,\r\n    is_stream,\r\n    mime_type,\r\n    alt_text,\r\n    b64\r\n  }) {\r\n    __publicField(this, \"path\");\r\n    __publicField(this, \"url\");\r\n    __publicField(this, \"orig_name\");\r\n    __publicField(this, \"size\");\r\n    __publicField(this, \"blob\");\r\n    __publicField(this, \"is_stream\");\r\n    __publicField(this, \"mime_type\");\r\n    __publicField(this, \"alt_text\");\r\n    __publicField(this, \"b64\");\r\n    __publicField(this, \"meta\", { _type: \"gradio.FileData\" });\r\n    this.path = path;\r\n    this.url = url;\r\n    this.orig_name = orig_name;\r\n    this.size = size;\r\n    this.blob = url ? void 0 : blob;\r\n    this.is_stream = is_stream;\r\n    this.mime_type = mime_type;\r\n    this.alt_text = alt_text;\r\n    this.b64 = b64;\r\n  }\r\n}\r\nclass Command {\r\n  constructor(command, meta) {\r\n    __publicField(this, \"type\");\r\n    __publicField(this, \"command\");\r\n    __publicField(this, \"meta\");\r\n    __publicField(this, \"fileData\");\r\n    this.type = \"command\";\r\n    this.command = command;\r\n    this.meta = meta;\r\n  }\r\n}\r\nconst is_node = typeof process !== \"undefined\" && process.versions && process.versions.node;\r\nfunction update_object(object, newValue, stack) {\r\n  while (stack.length > 1) {\r\n    const key2 = stack.shift();\r\n    if (typeof key2 === \"string\" || typeof key2 === \"number\") {\r\n      object = object[key2];\r\n    } else {\r\n      throw new Error(\"Invalid key type\");\r\n    }\r\n  }\r\n  const key = stack.shift();\r\n  if (typeof key === \"string\" || typeof key === \"number\") {\r\n    object[key] = newValue;\r\n  } else {\r\n    throw new Error(\"Invalid key type\");\r\n  }\r\n}\r\nasync function walk_and_store_blobs(data, type = void 0, path = [], root = false, endpoint_info = void 0) {\r\n  if (Array.isArray(data)) {\r\n    let blob_refs = [];\r\n    await Promise.all(\r\n      data.map(async (_, index) => {\r\n        var _a;\r\n        let new_path = path.slice();\r\n        new_path.push(String(index));\r\n        const array_refs = await walk_and_store_blobs(\r\n          data[index],\r\n          root ? ((_a = endpoint_info == null ? void 0 : endpoint_info.parameters[index]) == null ? void 0 : _a.component) || void 0 : type,\r\n          new_path,\r\n          false,\r\n          endpoint_info\r\n        );\r\n        blob_refs = blob_refs.concat(array_refs);\r\n      })\r\n    );\r\n    return blob_refs;\r\n  } else if (globalThis.Buffer && data instanceof globalThis.Buffer || data instanceof Blob) {\r\n    return [\r\n      {\r\n        path,\r\n        blob: new Blob([data]),\r\n        type\r\n      }\r\n    ];\r\n  } else if (typeof data === \"object\" && data !== null) {\r\n    let blob_refs = [];\r\n    for (const key of Object.keys(data)) {\r\n      const new_path = [...path, key];\r\n      const value = data[key];\r\n      blob_refs = blob_refs.concat(\r\n        await walk_and_store_blobs(\r\n          value,\r\n          void 0,\r\n          new_path,\r\n          false,\r\n          endpoint_info\r\n        )\r\n      );\r\n    }\r\n    return blob_refs;\r\n  }\r\n  return [];\r\n}\r\nfunction skip_queue(id, config) {\r\n  var _a, _b;\r\n  let fn_queue = (_b = (_a = config == null ? void 0 : config.dependencies) == null ? void 0 : _a.find((dep) => dep.id == id)) == null ? void 0 : _b.queue;\r\n  if (fn_queue != null) {\r\n    return !fn_queue;\r\n  }\r\n  return !config.enable_queue;\r\n}\r\nfunction post_message(message, origin) {\r\n  return new Promise((res, _rej) => {\r\n    const channel = new MessageChannel();\r\n    channel.port1.onmessage = ({ data }) => {\r\n      channel.port1.close();\r\n      res(data);\r\n    };\r\n    window.parent.postMessage(message, origin, [channel.port2]);\r\n  });\r\n}\r\nfunction handle_file(file_or_url) {\r\n  if (typeof file_or_url === \"string\") {\r\n    if (file_or_url.startsWith(\"http://\") || file_or_url.startsWith(\"https://\")) {\r\n      return {\r\n        path: file_or_url,\r\n        url: file_or_url,\r\n        orig_name: file_or_url.split(\"/\").pop() ?? \"unknown\",\r\n        meta: { _type: \"gradio.FileData\" }\r\n      };\r\n    }\r\n    if (is_node) {\r\n      return new Command(\"upload_file\", {\r\n        path: file_or_url,\r\n        name: file_or_url,\r\n        orig_path: file_or_url\r\n      });\r\n    }\r\n  } else if (typeof File !== \"undefined\" && file_or_url instanceof File) {\r\n    return new Blob([file_or_url]);\r\n  } else if (file_or_url instanceof Buffer) {\r\n    return new Blob([file_or_url]);\r\n  } else if (file_or_url instanceof Blob) {\r\n    return file_or_url;\r\n  }\r\n  throw new Error(\r\n    \"Invalid input: must be a URL, File, Blob, or Buffer object.\"\r\n  );\r\n}\r\nfunction handle_payload(resolved_payload, dependency, components, type, with_null_state = false) {\r\n  if (type === \"input\" && !with_null_state) {\r\n    throw new Error(\"Invalid code path. Cannot skip state inputs for input.\");\r\n  }\r\n  if (type === \"output\" && with_null_state) {\r\n    return resolved_payload;\r\n  }\r\n  let updated_payload = [];\r\n  let payload_index = 0;\r\n  const deps = type === \"input\" ? dependency.inputs : dependency.outputs;\r\n  for (let i = 0; i < deps.length; i++) {\r\n    const input_id = deps[i];\r\n    const component = components.find((c) => c.id === input_id);\r\n    if ((component == null ? void 0 : component.type) === \"state\") {\r\n      if (with_null_state) {\r\n        if (resolved_payload.length === deps.length) {\r\n          const value = resolved_payload[payload_index];\r\n          updated_payload.push(value);\r\n          payload_index++;\r\n        } else {\r\n          updated_payload.push(null);\r\n        }\r\n      } else {\r\n        payload_index++;\r\n        continue;\r\n      }\r\n      continue;\r\n    } else {\r\n      const value = resolved_payload[payload_index];\r\n      updated_payload.push(value);\r\n      payload_index++;\r\n    }\r\n  }\r\n  return updated_payload;\r\n}\r\nasync function handle_blob(endpoint, data, api_info) {\r\n  const self = this;\r\n  await process_local_file_commands(self, data);\r\n  const blobRefs = await walk_and_store_blobs(\r\n    data,\r\n    void 0,\r\n    [],\r\n    true,\r\n    api_info\r\n  );\r\n  const results = await Promise.all(\r\n    blobRefs.map(async ({ path, blob, type }) => {\r\n      if (!blob)\r\n        return { path, type };\r\n      const response = await self.upload_files(endpoint, [blob]);\r\n      const file_url = response.files && response.files[0];\r\n      return {\r\n        path,\r\n        file_url,\r\n        type,\r\n        name: typeof File !== \"undefined\" && blob instanceof File ? blob == null ? void 0 : blob.name : void 0\r\n      };\r\n    })\r\n  );\r\n  results.forEach(({ path, file_url, type, name }) => {\r\n    if (type === \"Gallery\") {\r\n      update_object(data, file_url, path);\r\n    } else if (file_url) {\r\n      const file = new FileData({ path: file_url, orig_name: name });\r\n      update_object(data, file, path);\r\n    }\r\n  });\r\n  return data;\r\n}\r\nasync function process_local_file_commands(client2, data) {\r\n  var _a, _b;\r\n  const root = ((_a = client2.config) == null ? void 0 : _a.root) || ((_b = client2.config) == null ? void 0 : _b.root_url);\r\n  if (!root) {\r\n    throw new Error(ROOT_URL_ERROR_MSG);\r\n  }\r\n  await recursively_process_commands(client2, data);\r\n}\r\nasync function recursively_process_commands(client2, data, path = []) {\r\n  for (const key in data) {\r\n    if (data[key] instanceof Command) {\r\n      await process_single_command(client2, data, key);\r\n    } else if (typeof data[key] === \"object\" && data[key] !== null) {\r\n      await recursively_process_commands(client2, data[key], [...path, key]);\r\n    }\r\n  }\r\n}\r\nasync function process_single_command(client2, data, key) {\r\n  var _a, _b;\r\n  let cmd_item = data[key];\r\n  const root = ((_a = client2.config) == null ? void 0 : _a.root) || ((_b = client2.config) == null ? void 0 : _b.root_url);\r\n  if (!root) {\r\n    throw new Error(ROOT_URL_ERROR_MSG);\r\n  }\r\n  try {\r\n    let fileBuffer;\r\n    let fullPath;\r\n    if (typeof process !== \"undefined\" && process.versions && process.versions.node) {\r\n      const fs = await import(\"fs/promises\");\r\n      const path = await import(\"path\");\r\n      fullPath = path.resolve(process.cwd(), cmd_item.meta.path);\r\n      fileBuffer = await fs.readFile(fullPath);\r\n    } else {\r\n      throw new Error(NODEJS_FS_ERROR_MSG);\r\n    }\r\n    const file = new Blob([fileBuffer], { type: \"application/octet-stream\" });\r\n    const response = await client2.upload_files(root, [file]);\r\n    const file_url = response.files && response.files[0];\r\n    if (file_url) {\r\n      const fileData = new FileData({\r\n        path: file_url,\r\n        orig_name: cmd_item.meta.name || \"\"\r\n      });\r\n      data[key] = fileData;\r\n    }\r\n  } catch (error) {\r\n    console.error(FILE_PROCESSING_ERROR_MSG, error);\r\n  }\r\n}\r\nasync function post_data(url, body, additional_headers) {\r\n  const headers = { \"Content-Type\": \"application/json\" };\r\n  if (this.options.hf_token) {\r\n    headers.Authorization = `Bearer ${this.options.hf_token}`;\r\n  }\r\n  try {\r\n    var response = await this.fetch(url, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(body),\r\n      headers: { ...headers, ...additional_headers },\r\n      credentials: \"include\"\r\n    });\r\n  } catch (e) {\r\n    return [{ error: BROKEN_CONNECTION_MSG }, 500];\r\n  }\r\n  let output;\r\n  let status;\r\n  try {\r\n    output = await response.json();\r\n    status = response.status;\r\n  } catch (e) {\r\n    output = { error: `Could not parse server response: ${e}` };\r\n    status = 500;\r\n  }\r\n  return [output, status];\r\n}\r\nasync function predict(endpoint, data = {}) {\r\n  let data_returned = false;\r\n  let status_complete = false;\r\n  if (!this.config) {\r\n    throw new Error(\"Could not resolve app config\");\r\n  }\r\n  if (typeof endpoint === \"number\") {\r\n    this.config.dependencies.find((dep) => dep.id == endpoint);\r\n  } else {\r\n    const trimmed_endpoint = endpoint.replace(/^\\//, \"\");\r\n    this.config.dependencies.find(\r\n      (dep) => dep.id == this.api_map[trimmed_endpoint]\r\n    );\r\n  }\r\n  return new Promise(async (resolve, reject) => {\r\n    const app = this.submit(endpoint, data, null, null, true);\r\n    let result;\r\n    for await (const message of app) {\r\n      if (message.type === \"data\") {\r\n        if (status_complete) {\r\n          resolve(result);\r\n        }\r\n        data_returned = true;\r\n        result = message;\r\n      }\r\n      if (message.type === \"status\") {\r\n        if (message.stage === \"error\")\r\n          reject(message);\r\n        if (message.stage === \"complete\") {\r\n          status_complete = true;\r\n          if (data_returned) {\r\n            resolve(result);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  });\r\n}\r\nasync function check_space_status(id, type, status_callback) {\r\n  let endpoint = type === \"subdomain\" ? `https://huggingface.co/api/spaces/by-subdomain/${id}` : `https://huggingface.co/api/spaces/${id}`;\r\n  let response;\r\n  let _status;\r\n  try {\r\n    response = await fetch(endpoint);\r\n    _status = response.status;\r\n    if (_status !== 200) {\r\n      throw new Error();\r\n    }\r\n    response = await response.json();\r\n  } catch (e) {\r\n    status_callback({\r\n      status: \"error\",\r\n      load_status: \"error\",\r\n      message: SPACE_STATUS_ERROR_MSG,\r\n      detail: \"NOT_FOUND\"\r\n    });\r\n    return;\r\n  }\r\n  if (!response || _status !== 200)\r\n    return;\r\n  const {\r\n    runtime: { stage },\r\n    id: space_name\r\n  } = response;\r\n  switch (stage) {\r\n    case \"STOPPED\":\r\n    case \"SLEEPING\":\r\n      status_callback({\r\n        status: \"sleeping\",\r\n        load_status: \"pending\",\r\n        message: \"Space is asleep. Waking it up...\",\r\n        detail: stage\r\n      });\r\n      setTimeout(() => {\r\n        check_space_status(id, type, status_callback);\r\n      }, 1e3);\r\n      break;\r\n    case \"PAUSED\":\r\n      status_callback({\r\n        status: \"paused\",\r\n        load_status: \"error\",\r\n        message: \"This space has been paused by the author. If you would like to try this demo, consider duplicating the space.\",\r\n        detail: stage,\r\n        discussions_enabled: await discussions_enabled(space_name)\r\n      });\r\n      break;\r\n    case \"RUNNING\":\r\n    case \"RUNNING_BUILDING\":\r\n      status_callback({\r\n        status: \"running\",\r\n        load_status: \"complete\",\r\n        message: \"Space is running.\",\r\n        detail: stage\r\n      });\r\n      break;\r\n    case \"BUILDING\":\r\n      status_callback({\r\n        status: \"building\",\r\n        load_status: \"pending\",\r\n        message: \"Space is building...\",\r\n        detail: stage\r\n      });\r\n      setTimeout(() => {\r\n        check_space_status(id, type, status_callback);\r\n      }, 1e3);\r\n      break;\r\n    case \"APP_STARTING\":\r\n      status_callback({\r\n        status: \"starting\",\r\n        load_status: \"pending\",\r\n        message: \"Space is starting...\",\r\n        detail: stage\r\n      });\r\n      setTimeout(() => {\r\n        check_space_status(id, type, status_callback);\r\n      }, 1e3);\r\n      break;\r\n    default:\r\n      status_callback({\r\n        status: \"space_error\",\r\n        load_status: \"error\",\r\n        message: \"This space is experiencing an issue.\",\r\n        detail: stage,\r\n        discussions_enabled: await discussions_enabled(space_name)\r\n      });\r\n      break;\r\n  }\r\n}\r\nconst check_and_wake_space = async (space_id, status_callback) => {\r\n  let retries = 0;\r\n  const max_retries = 12;\r\n  const check_interval = 5e3;\r\n  return new Promise((resolve) => {\r\n    check_space_status(\r\n      space_id,\r\n      RE_SPACE_NAME.test(space_id) ? \"space_name\" : \"subdomain\",\r\n      (status) => {\r\n        status_callback(status);\r\n        if (status.status === \"running\") {\r\n          resolve();\r\n        } else if (status.status === \"error\" || status.status === \"paused\" || status.status === \"space_error\") {\r\n          resolve();\r\n        } else if (status.status === \"sleeping\" || status.status === \"building\") {\r\n          if (retries < max_retries) {\r\n            retries++;\r\n            setTimeout(() => {\r\n              check_and_wake_space(space_id, status_callback).then(resolve);\r\n            }, check_interval);\r\n          } else {\r\n            resolve();\r\n          }\r\n        }\r\n      }\r\n    );\r\n  });\r\n};\r\nconst RE_DISABLED_DISCUSSION = /^(?=[^]*\\b[dD]iscussions{0,1}\\b)(?=[^]*\\b[dD]isabled\\b)[^]*$/;\r\nasync function discussions_enabled(space_id) {\r\n  try {\r\n    const r = await fetch(\r\n      `https://huggingface.co/api/spaces/${space_id}/discussions`,\r\n      {\r\n        method: \"HEAD\"\r\n      }\r\n    );\r\n    const error = r.headers.get(\"x-error-message\");\r\n    if (!r.ok || error && RE_DISABLED_DISCUSSION.test(error))\r\n      return false;\r\n    return true;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}\r\nasync function get_space_hardware(space_id, hf_token) {\r\n  const headers = {};\r\n  if (hf_token) {\r\n    headers.Authorization = `Bearer ${hf_token}`;\r\n  }\r\n  try {\r\n    const res = await fetch(\r\n      `https://huggingface.co/api/spaces/${space_id}/${RUNTIME_URL}`,\r\n      { headers }\r\n    );\r\n    if (res.status !== 200)\r\n      throw new Error(\"Space hardware could not be obtained.\");\r\n    const { hardware } = await res.json();\r\n    return hardware.current;\r\n  } catch (e) {\r\n    throw new Error(e.message);\r\n  }\r\n}\r\nasync function set_space_timeout(space_id, timeout, hf_token) {\r\n  const headers = {};\r\n  if (hf_token) {\r\n    headers.Authorization = `Bearer ${hf_token}`;\r\n  }\r\n  const body = {\r\n    seconds: timeout\r\n  };\r\n  try {\r\n    const res = await fetch(\r\n      `https://huggingface.co/api/spaces/${space_id}/${SLEEPTIME_URL}`,\r\n      {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\", ...headers },\r\n        body: JSON.stringify(body)\r\n      }\r\n    );\r\n    if (res.status !== 200) {\r\n      throw new Error(\r\n        \"Could not set sleep timeout on duplicated Space. Please visit *ADD HF LINK TO SETTINGS* to set a timeout manually to reduce billing charges.\"\r\n      );\r\n    }\r\n    const response = await res.json();\r\n    return response;\r\n  } catch (e) {\r\n    throw new Error(e.message);\r\n  }\r\n}\r\nconst hardware_types = [\r\n  \"cpu-basic\",\r\n  \"cpu-upgrade\",\r\n  \"cpu-xl\",\r\n  \"t4-small\",\r\n  \"t4-medium\",\r\n  \"a10g-small\",\r\n  \"a10g-large\",\r\n  \"a10g-largex2\",\r\n  \"a10g-largex4\",\r\n  \"a100-large\",\r\n  \"zero-a10g\",\r\n  \"h100\",\r\n  \"h100x8\"\r\n];\r\nasync function duplicate(app_reference, options) {\r\n  const { hf_token, private: _private, hardware, timeout, auth } = options;\r\n  if (hardware && !hardware_types.includes(hardware)) {\r\n    throw new Error(\r\n      `Invalid hardware type provided. Valid types are: ${hardware_types.map((v) => `\"${v}\"`).join(\",\")}.`\r\n    );\r\n  }\r\n  const { http_protocol, host } = await process_endpoint(\r\n    app_reference,\r\n    hf_token\r\n  );\r\n  let cookies = null;\r\n  if (auth) {\r\n    const cookie_header = await get_cookie_header(\r\n      http_protocol,\r\n      host,\r\n      auth,\r\n      fetch\r\n    );\r\n    if (cookie_header)\r\n      cookies = parse_and_set_cookies(cookie_header);\r\n  }\r\n  const headers = {\r\n    Authorization: `Bearer ${hf_token}`,\r\n    \"Content-Type\": \"application/json\",\r\n    ...cookies ? { Cookie: cookies.join(\"; \") } : {}\r\n  };\r\n  const user = (await (await fetch(`https://huggingface.co/api/whoami-v2`, {\r\n    headers\r\n  })).json()).name;\r\n  const space_name = app_reference.split(\"/\")[1];\r\n  const body = {\r\n    repository: `${user}/${space_name}`\r\n  };\r\n  if (_private) {\r\n    body.private = true;\r\n  }\r\n  let original_hardware;\r\n  try {\r\n    if (!hardware) {\r\n      original_hardware = await get_space_hardware(app_reference, hf_token);\r\n    }\r\n  } catch (e) {\r\n    throw Error(SPACE_METADATA_ERROR_MSG + e.message);\r\n  }\r\n  const requested_hardware = hardware || original_hardware || \"cpu-basic\";\r\n  body.hardware = requested_hardware;\r\n  try {\r\n    const response = await fetch(\r\n      `https://huggingface.co/api/spaces/${app_reference}/duplicate`,\r\n      {\r\n        method: \"POST\",\r\n        headers,\r\n        body: JSON.stringify(body)\r\n      }\r\n    );\r\n    if (response.status === 409) {\r\n      try {\r\n        const client2 = await Client.connect(`${user}/${space_name}`, options);\r\n        return client2;\r\n      } catch (error) {\r\n        console.error(\"Failed to connect Client instance:\", error);\r\n        throw error;\r\n      }\r\n    } else if (response.status !== 200) {\r\n      throw new Error(response.statusText);\r\n    }\r\n    const duplicated_space = await response.json();\r\n    await set_space_timeout(`${user}/${space_name}`, timeout || 300, hf_token);\r\n    return await Client.connect(\r\n      get_space_reference(duplicated_space.url),\r\n      options\r\n    );\r\n  } catch (e) {\r\n    throw new Error(e);\r\n  }\r\n}\r\nfunction get_space_reference(url) {\r\n  const regex = /https:\\/\\/huggingface.co\\/spaces\\/([^/]+\\/[^/]+)/;\r\n  const match = url.match(regex);\r\n  if (match) {\r\n    return match[1];\r\n  }\r\n}\r\nclass TextLineStream extends TransformStream {\r\n  /** Constructs a new instance. */\r\n  constructor(options = { allowCR: false }) {\r\n    super({\r\n      transform: (chars, controller) => {\r\n        chars = __privateGet(this, _currentLine) + chars;\r\n        while (true) {\r\n          const lfIndex = chars.indexOf(\"\\n\");\r\n          const crIndex = options.allowCR ? chars.indexOf(\"\\r\") : -1;\r\n          if (crIndex !== -1 && crIndex !== chars.length - 1 && (lfIndex === -1 || lfIndex - 1 > crIndex)) {\r\n            controller.enqueue(chars.slice(0, crIndex));\r\n            chars = chars.slice(crIndex + 1);\r\n            continue;\r\n          }\r\n          if (lfIndex === -1)\r\n            break;\r\n          const endIndex = chars[lfIndex - 1] === \"\\r\" ? lfIndex - 1 : lfIndex;\r\n          controller.enqueue(chars.slice(0, endIndex));\r\n          chars = chars.slice(lfIndex + 1);\r\n        }\r\n        __privateSet(this, _currentLine, chars);\r\n      },\r\n      flush: (controller) => {\r\n        if (__privateGet(this, _currentLine) === \"\")\r\n          return;\r\n        const currentLine = options.allowCR && __privateGet(this, _currentLine).endsWith(\"\\r\") ? __privateGet(this, _currentLine).slice(0, -1) : __privateGet(this, _currentLine);\r\n        controller.enqueue(currentLine);\r\n      }\r\n    });\r\n    __privateAdd(this, _currentLine, \"\");\r\n  }\r\n}\r\n_currentLine = new WeakMap();\r\nfunction stream$1(input) {\r\n  let decoder = new TextDecoderStream();\r\n  let split2 = new TextLineStream({ allowCR: true });\r\n  return input.pipeThrough(decoder).pipeThrough(split2);\r\n}\r\nfunction split(input) {\r\n  let rgx = /[:]\\s*/;\r\n  let match = rgx.exec(input);\r\n  let idx = match && match.index;\r\n  if (idx) {\r\n    return [\r\n      input.substring(0, idx),\r\n      input.substring(idx + match[0].length)\r\n    ];\r\n  }\r\n}\r\nfunction fallback(headers, key, value) {\r\n  let tmp = headers.get(key);\r\n  if (!tmp)\r\n    headers.set(key, value);\r\n}\r\nasync function* events(res, signal) {\r\n  if (!res.body)\r\n    return;\r\n  let iter = stream$1(res.body);\r\n  let line, reader = iter.getReader();\r\n  let event;\r\n  for (; ; ) {\r\n    if (signal && signal.aborted) {\r\n      return reader.cancel();\r\n    }\r\n    line = await reader.read();\r\n    if (line.done)\r\n      return;\r\n    if (!line.value) {\r\n      if (event)\r\n        yield event;\r\n      event = void 0;\r\n      continue;\r\n    }\r\n    let [field, value] = split(line.value) || [];\r\n    if (!field)\r\n      continue;\r\n    if (field === \"data\") {\r\n      event || (event = {});\r\n      event[field] = event[field] ? event[field] + \"\\n\" + value : value;\r\n    } else if (field === \"event\") {\r\n      event || (event = {});\r\n      event[field] = value;\r\n    } else if (field === \"id\") {\r\n      event || (event = {});\r\n      event[field] = +value || value;\r\n    } else if (field === \"retry\") {\r\n      event || (event = {});\r\n      event[field] = +value || void 0;\r\n    }\r\n  }\r\n}\r\nasync function stream(input, init) {\r\n  let req = new Request(input, init);\r\n  fallback(req.headers, \"Accept\", \"text/event-stream\");\r\n  fallback(req.headers, \"Content-Type\", \"application/json\");\r\n  let r = await fetch(req);\r\n  if (!r.ok)\r\n    throw r;\r\n  return events(r, req.signal);\r\n}\r\nasync function open_stream() {\r\n  let {\r\n    event_callbacks,\r\n    unclosed_events,\r\n    pending_stream_messages,\r\n    stream_status,\r\n    config,\r\n    jwt\r\n  } = this;\r\n  const that = this;\r\n  if (!config) {\r\n    throw new Error(\"Could not resolve app config\");\r\n  }\r\n  stream_status.open = true;\r\n  let stream2 = null;\r\n  let params = new URLSearchParams({\r\n    session_hash: this.session_hash\r\n  }).toString();\r\n  let url = new URL(`${config.root}${this.api_prefix}/${SSE_URL}?${params}`);\r\n  if (jwt) {\r\n    url.searchParams.set(\"__sign\", jwt);\r\n  }\r\n  stream2 = this.stream(url);\r\n  if (!stream2) {\r\n    console.warn(\"Cannot connect to SSE endpoint: \" + url.toString());\r\n    return;\r\n  }\r\n  stream2.onmessage = async function(event) {\r\n    let _data = JSON.parse(event.data);\r\n    if (_data.msg === \"close_stream\") {\r\n      close_stream(stream_status, that.abort_controller);\r\n      return;\r\n    }\r\n    const event_id = _data.event_id;\r\n    if (!event_id) {\r\n      await Promise.all(\r\n        Object.keys(event_callbacks).map(\r\n          (event_id2) => event_callbacks[event_id2](_data)\r\n        )\r\n      );\r\n    } else if (event_callbacks[event_id] && config) {\r\n      if (_data.msg === \"process_completed\" && [\"sse\", \"sse_v1\", \"sse_v2\", \"sse_v2.1\", \"sse_v3\"].includes(\r\n        config.protocol\r\n      )) {\r\n        unclosed_events.delete(event_id);\r\n      }\r\n      let fn2 = event_callbacks[event_id];\r\n      if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\r\n        setTimeout(fn2, 0, _data);\r\n      } else {\r\n        fn2(_data);\r\n      }\r\n    } else {\r\n      if (!pending_stream_messages[event_id]) {\r\n        pending_stream_messages[event_id] = [];\r\n      }\r\n      pending_stream_messages[event_id].push(_data);\r\n    }\r\n  };\r\n  stream2.onerror = async function() {\r\n    await Promise.all(\r\n      Object.keys(event_callbacks).map(\r\n        (event_id) => event_callbacks[event_id]({\r\n          msg: \"unexpected_error\",\r\n          message: BROKEN_CONNECTION_MSG\r\n        })\r\n      )\r\n    );\r\n  };\r\n}\r\nfunction close_stream(stream_status, abort_controller) {\r\n  if (stream_status) {\r\n    stream_status.open = false;\r\n    abort_controller == null ? void 0 : abort_controller.abort();\r\n  }\r\n}\r\nfunction apply_diff_stream(pending_diff_streams, event_id, data) {\r\n  let is_first_generation = !pending_diff_streams[event_id];\r\n  if (is_first_generation) {\r\n    pending_diff_streams[event_id] = [];\r\n    data.data.forEach((value, i) => {\r\n      pending_diff_streams[event_id][i] = value;\r\n    });\r\n  } else {\r\n    data.data.forEach((value, i) => {\r\n      let new_data = apply_diff(pending_diff_streams[event_id][i], value);\r\n      pending_diff_streams[event_id][i] = new_data;\r\n      data.data[i] = new_data;\r\n    });\r\n  }\r\n}\r\nfunction apply_diff(obj, diff) {\r\n  diff.forEach(([action, path, value]) => {\r\n    obj = apply_edit(obj, path, action, value);\r\n  });\r\n  return obj;\r\n}\r\nfunction apply_edit(target, path, action, value) {\r\n  if (path.length === 0) {\r\n    if (action === \"replace\") {\r\n      return value;\r\n    } else if (action === \"append\") {\r\n      return target + value;\r\n    }\r\n    throw new Error(`Unsupported action: ${action}`);\r\n  }\r\n  let current = target;\r\n  for (let i = 0; i < path.length - 1; i++) {\r\n    current = current[path[i]];\r\n  }\r\n  const last_path = path[path.length - 1];\r\n  switch (action) {\r\n    case \"replace\":\r\n      current[last_path] = value;\r\n      break;\r\n    case \"append\":\r\n      current[last_path] += value;\r\n      break;\r\n    case \"add\":\r\n      if (Array.isArray(current)) {\r\n        current.splice(Number(last_path), 0, value);\r\n      } else {\r\n        current[last_path] = value;\r\n      }\r\n      break;\r\n    case \"delete\":\r\n      if (Array.isArray(current)) {\r\n        current.splice(Number(last_path), 1);\r\n      } else {\r\n        delete current[last_path];\r\n      }\r\n      break;\r\n    default:\r\n      throw new Error(`Unknown action: ${action}`);\r\n  }\r\n  return target;\r\n}\r\nfunction readable_stream(input, init = {}) {\r\n  const instance = {\r\n    close: () => {\r\n      console.warn(\"Method not implemented.\");\r\n    },\r\n    onerror: null,\r\n    onmessage: null,\r\n    onopen: null,\r\n    readyState: 0,\r\n    url: input.toString(),\r\n    withCredentials: false,\r\n    CONNECTING: 0,\r\n    OPEN: 1,\r\n    CLOSED: 2,\r\n    addEventListener: () => {\r\n      throw new Error(\"Method not implemented.\");\r\n    },\r\n    dispatchEvent: () => {\r\n      throw new Error(\"Method not implemented.\");\r\n    },\r\n    removeEventListener: () => {\r\n      throw new Error(\"Method not implemented.\");\r\n    }\r\n  };\r\n  stream(input, init).then(async (res) => {\r\n    instance.readyState = instance.OPEN;\r\n    try {\r\n      for await (const chunk of res) {\r\n        instance.onmessage && instance.onmessage(chunk);\r\n      }\r\n      instance.readyState = instance.CLOSED;\r\n    } catch (e) {\r\n      instance.onerror && instance.onerror(e);\r\n      instance.readyState = instance.CLOSED;\r\n    }\r\n  }).catch((e) => {\r\n    console.error(e);\r\n    instance.onerror && instance.onerror(e);\r\n    instance.readyState = instance.CLOSED;\r\n  });\r\n  return instance;\r\n}\r\nfunction submit(endpoint, data = {}, event_data, trigger_id, all_events) {\r\n  var _a;\r\n  try {\r\n    let fire_event = function(event) {\r\n      if (all_events || events_to_publish[event.type]) {\r\n        push_event(event);\r\n      }\r\n    }, close = function() {\r\n      done = true;\r\n      while (resolvers.length > 0)\r\n        resolvers.shift()({\r\n          value: void 0,\r\n          done: true\r\n        });\r\n    }, push = function(data2) {\r\n      if (done)\r\n        return;\r\n      if (resolvers.length > 0) {\r\n        resolvers.shift()(data2);\r\n      } else {\r\n        values.push(data2);\r\n      }\r\n    }, push_error = function(error) {\r\n      push(thenable_reject(error));\r\n      close();\r\n    }, push_event = function(event) {\r\n      push({ value: event, done: false });\r\n    }, next = function() {\r\n      if (values.length > 0)\r\n        return Promise.resolve(values.shift());\r\n      if (done)\r\n        return Promise.resolve({ value: void 0, done: true });\r\n      return new Promise((resolve) => resolvers.push(resolve));\r\n    };\r\n    const { hf_token } = this.options;\r\n    const {\r\n      fetch: fetch2,\r\n      app_reference,\r\n      config,\r\n      session_hash,\r\n      api_info,\r\n      api_map,\r\n      stream_status,\r\n      pending_stream_messages,\r\n      pending_diff_streams,\r\n      event_callbacks,\r\n      unclosed_events,\r\n      post_data: post_data2,\r\n      options,\r\n      api_prefix\r\n    } = this;\r\n    const that = this;\r\n    if (!api_info)\r\n      throw new Error(\"No API found\");\r\n    if (!config)\r\n      throw new Error(\"Could not resolve app config\");\r\n    let { fn_index, endpoint_info, dependency } = get_endpoint_info(\r\n      api_info,\r\n      endpoint,\r\n      api_map,\r\n      config\r\n    );\r\n    let resolved_data = map_data_to_params(data, endpoint_info);\r\n    let websocket;\r\n    let stream2;\r\n    let protocol = config.protocol ?? \"ws\";\r\n    let event_id_final = \"\";\r\n    let event_id_cb = () => event_id_final;\r\n    const _endpoint = typeof endpoint === \"number\" ? \"/predict\" : endpoint;\r\n    let payload;\r\n    let event_id = null;\r\n    let complete = false;\r\n    let last_status = {};\r\n    let url_params = typeof window !== \"undefined\" && typeof document !== \"undefined\" ? new URLSearchParams(window.location.search).toString() : \"\";\r\n    const events_to_publish = ((_a = options == null ? void 0 : options.events) == null ? void 0 : _a.reduce(\r\n      (acc, event) => {\r\n        acc[event] = true;\r\n        return acc;\r\n      },\r\n      {}\r\n    )) || {};\r\n    async function cancel() {\r\n      const _status = {\r\n        stage: \"complete\",\r\n        queue: false,\r\n        time: /* @__PURE__ */ new Date()\r\n      };\r\n      complete = _status;\r\n      fire_event({\r\n        ..._status,\r\n        type: \"status\",\r\n        endpoint: _endpoint,\r\n        fn_index\r\n      });\r\n      let reset_request = {};\r\n      let cancel_request = {};\r\n      if (protocol === \"ws\") {\r\n        if (websocket && websocket.readyState === 0) {\r\n          websocket.addEventListener(\"open\", () => {\r\n            websocket.close();\r\n          });\r\n        } else {\r\n          websocket.close();\r\n        }\r\n        reset_request = { fn_index, session_hash };\r\n      } else {\r\n        close_stream(stream_status, that.abort_controller);\r\n        close();\r\n        reset_request = { event_id };\r\n        cancel_request = { event_id, session_hash, fn_index };\r\n      }\r\n      try {\r\n        if (!config) {\r\n          throw new Error(\"Could not resolve app config\");\r\n        }\r\n        if (\"event_id\" in cancel_request) {\r\n          await fetch2(`${config.root}${api_prefix}/${CANCEL_URL}`, {\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            method: \"POST\",\r\n            body: JSON.stringify(cancel_request)\r\n          });\r\n        }\r\n        await fetch2(`${config.root}${api_prefix}/${RESET_URL}`, {\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          method: \"POST\",\r\n          body: JSON.stringify(reset_request)\r\n        });\r\n      } catch (e) {\r\n        console.warn(\r\n          \"The `/reset` endpoint could not be called. Subsequent endpoint results may be unreliable.\"\r\n        );\r\n      }\r\n    }\r\n    const resolve_heartbeat = async (config2) => {\r\n      await this._resolve_hearbeat(config2);\r\n    };\r\n    async function handle_render_config(render_config) {\r\n      if (!config)\r\n        return;\r\n      let render_id = render_config.render_id;\r\n      config.components = [\r\n        ...config.components.filter((c) => c.props.rendered_in !== render_id),\r\n        ...render_config.components\r\n      ];\r\n      config.dependencies = [\r\n        ...config.dependencies.filter((d) => d.rendered_in !== render_id),\r\n        ...render_config.dependencies\r\n      ];\r\n      const any_state = config.components.some((c) => c.type === \"state\");\r\n      const any_unload = config.dependencies.some(\r\n        (d) => d.targets.some((t) => t[1] === \"unload\")\r\n      );\r\n      config.connect_heartbeat = any_state || any_unload;\r\n      await resolve_heartbeat(config);\r\n      fire_event({\r\n        type: \"render\",\r\n        data: render_config,\r\n        endpoint: _endpoint,\r\n        fn_index\r\n      });\r\n    }\r\n    this.handle_blob(config.root, resolved_data, endpoint_info).then(\r\n      async (_payload) => {\r\n        var _a2;\r\n        let input_data = handle_payload(\r\n          _payload,\r\n          dependency,\r\n          config.components,\r\n          \"input\",\r\n          true\r\n        );\r\n        payload = {\r\n          data: input_data || [],\r\n          event_data,\r\n          fn_index,\r\n          trigger_id\r\n        };\r\n        if (skip_queue(fn_index, config)) {\r\n          fire_event({\r\n            type: \"status\",\r\n            endpoint: _endpoint,\r\n            stage: \"pending\",\r\n            queue: false,\r\n            fn_index,\r\n            time: /* @__PURE__ */ new Date()\r\n          });\r\n          post_data2(\r\n            `${config.root}${api_prefix}/run${_endpoint.startsWith(\"/\") ? _endpoint : `/${_endpoint}`}${url_params ? \"?\" + url_params : \"\"}`,\r\n            {\r\n              ...payload,\r\n              session_hash\r\n            }\r\n          ).then(([output, status_code]) => {\r\n            const data2 = output.data;\r\n            if (status_code == 200) {\r\n              fire_event({\r\n                type: \"data\",\r\n                endpoint: _endpoint,\r\n                fn_index,\r\n                data: handle_payload(\r\n                  data2,\r\n                  dependency,\r\n                  config.components,\r\n                  \"output\",\r\n                  options.with_null_state\r\n                ),\r\n                time: /* @__PURE__ */ new Date(),\r\n                event_data,\r\n                trigger_id\r\n              });\r\n              if (output.render_config) {\r\n                handle_render_config(output.render_config);\r\n              }\r\n              fire_event({\r\n                type: \"status\",\r\n                endpoint: _endpoint,\r\n                fn_index,\r\n                stage: \"complete\",\r\n                eta: output.average_duration,\r\n                queue: false,\r\n                time: /* @__PURE__ */ new Date()\r\n              });\r\n            } else {\r\n              fire_event({\r\n                type: \"status\",\r\n                stage: \"error\",\r\n                endpoint: _endpoint,\r\n                fn_index,\r\n                message: output.error,\r\n                queue: false,\r\n                time: /* @__PURE__ */ new Date()\r\n              });\r\n            }\r\n          }).catch((e) => {\r\n            fire_event({\r\n              type: \"status\",\r\n              stage: \"error\",\r\n              message: e.message,\r\n              endpoint: _endpoint,\r\n              fn_index,\r\n              queue: false,\r\n              time: /* @__PURE__ */ new Date()\r\n            });\r\n          });\r\n        } else if (protocol == \"ws\") {\r\n          const { ws_protocol, host } = await process_endpoint(\r\n            app_reference,\r\n            hf_token\r\n          );\r\n          fire_event({\r\n            type: \"status\",\r\n            stage: \"pending\",\r\n            queue: true,\r\n            endpoint: _endpoint,\r\n            fn_index,\r\n            time: /* @__PURE__ */ new Date()\r\n          });\r\n          let url = new URL(\r\n            `${ws_protocol}://${resolve_root(\r\n              host,\r\n              config.path,\r\n              true\r\n            )}/queue/join${url_params ? \"?\" + url_params : \"\"}`\r\n          );\r\n          if (this.jwt) {\r\n            url.searchParams.set(\"__sign\", this.jwt);\r\n          }\r\n          websocket = new WebSocket(url);\r\n          websocket.onclose = (evt) => {\r\n            if (!evt.wasClean) {\r\n              fire_event({\r\n                type: \"status\",\r\n                stage: \"error\",\r\n                broken: true,\r\n                message: BROKEN_CONNECTION_MSG,\r\n                queue: true,\r\n                endpoint: _endpoint,\r\n                fn_index,\r\n                time: /* @__PURE__ */ new Date()\r\n              });\r\n            }\r\n          };\r\n          websocket.onmessage = function(event) {\r\n            const _data = JSON.parse(event.data);\r\n            const { type, status, data: data2 } = handle_message(\r\n              _data,\r\n              last_status[fn_index]\r\n            );\r\n            if (type === \"update\" && status && !complete) {\r\n              fire_event({\r\n                type: \"status\",\r\n                endpoint: _endpoint,\r\n                fn_index,\r\n                time: /* @__PURE__ */ new Date(),\r\n                ...status\r\n              });\r\n              if (status.stage === \"error\") {\r\n                websocket.close();\r\n              }\r\n            } else if (type === \"hash\") {\r\n              websocket.send(JSON.stringify({ fn_index, session_hash }));\r\n              return;\r\n            } else if (type === \"data\") {\r\n              websocket.send(JSON.stringify({ ...payload, session_hash }));\r\n            } else if (type === \"complete\") {\r\n              complete = status;\r\n            } else if (type === \"log\") {\r\n              fire_event({\r\n                type: \"log\",\r\n                title: data2.title,\r\n                log: data2.log,\r\n                level: data2.level,\r\n                endpoint: _endpoint,\r\n                duration: data2.duration,\r\n                visible: data2.visible,\r\n                fn_index\r\n              });\r\n            } else if (type === \"generating\") {\r\n              fire_event({\r\n                type: \"status\",\r\n                time: /* @__PURE__ */ new Date(),\r\n                ...status,\r\n                stage: status == null ? void 0 : status.stage,\r\n                queue: true,\r\n                endpoint: _endpoint,\r\n                fn_index\r\n              });\r\n            }\r\n            if (data2) {\r\n              fire_event({\r\n                type: \"data\",\r\n                time: /* @__PURE__ */ new Date(),\r\n                data: handle_payload(\r\n                  data2.data,\r\n                  dependency,\r\n                  config.components,\r\n                  \"output\",\r\n                  options.with_null_state\r\n                ),\r\n                endpoint: _endpoint,\r\n                fn_index,\r\n                event_data,\r\n                trigger_id\r\n              });\r\n              if (complete) {\r\n                fire_event({\r\n                  type: \"status\",\r\n                  time: /* @__PURE__ */ new Date(),\r\n                  ...complete,\r\n                  stage: status == null ? void 0 : status.stage,\r\n                  queue: true,\r\n                  endpoint: _endpoint,\r\n                  fn_index\r\n                });\r\n                websocket.close();\r\n              }\r\n            }\r\n          };\r\n          if (semiver(config.version || \"2.0.0\", \"3.6\") < 0) {\r\n            addEventListener(\r\n              \"open\",\r\n              () => websocket.send(JSON.stringify({ hash: session_hash }))\r\n            );\r\n          }\r\n        } else if (protocol == \"sse\") {\r\n          fire_event({\r\n            type: \"status\",\r\n            stage: \"pending\",\r\n            queue: true,\r\n            endpoint: _endpoint,\r\n            fn_index,\r\n            time: /* @__PURE__ */ new Date()\r\n          });\r\n          var params = new URLSearchParams({\r\n            fn_index: fn_index.toString(),\r\n            session_hash\r\n          }).toString();\r\n          let url = new URL(\r\n            `${config.root}${api_prefix}/${SSE_URL}?${url_params ? url_params + \"&\" : \"\"}${params}`\r\n          );\r\n          if (this.jwt) {\r\n            url.searchParams.set(\"__sign\", this.jwt);\r\n          }\r\n          stream2 = this.stream(url);\r\n          if (!stream2) {\r\n            return Promise.reject(\r\n              new Error(\"Cannot connect to SSE endpoint: \" + url.toString())\r\n            );\r\n          }\r\n          stream2.onmessage = async function(event) {\r\n            const _data = JSON.parse(event.data);\r\n            const { type, status, data: data2 } = handle_message(\r\n              _data,\r\n              last_status[fn_index]\r\n            );\r\n            if (type === \"update\" && status && !complete) {\r\n              fire_event({\r\n                type: \"status\",\r\n                endpoint: _endpoint,\r\n                fn_index,\r\n                time: /* @__PURE__ */ new Date(),\r\n                ...status\r\n              });\r\n              if (status.stage === \"error\") {\r\n                stream2 == null ? void 0 : stream2.close();\r\n                close();\r\n              }\r\n            } else if (type === \"data\") {\r\n              let [_, status2] = await post_data2(\r\n                `${config.root}${api_prefix}/queue/data`,\r\n                {\r\n                  ...payload,\r\n                  session_hash,\r\n                  event_id\r\n                }\r\n              );\r\n              if (status2 !== 200) {\r\n                fire_event({\r\n                  type: \"status\",\r\n                  stage: \"error\",\r\n                  message: BROKEN_CONNECTION_MSG,\r\n                  queue: true,\r\n                  endpoint: _endpoint,\r\n                  fn_index,\r\n                  time: /* @__PURE__ */ new Date()\r\n                });\r\n                stream2 == null ? void 0 : stream2.close();\r\n                close();\r\n              }\r\n            } else if (type === \"complete\") {\r\n              complete = status;\r\n            } else if (type === \"log\") {\r\n              fire_event({\r\n                type: \"log\",\r\n                title: data2.title,\r\n                log: data2.log,\r\n                level: data2.level,\r\n                endpoint: _endpoint,\r\n                duration: data2.duration,\r\n                visible: data2.visible,\r\n                fn_index\r\n              });\r\n            } else if (type === \"generating\" || type === \"streaming\") {\r\n              fire_event({\r\n                type: \"status\",\r\n                time: /* @__PURE__ */ new Date(),\r\n                ...status,\r\n                stage: status == null ? void 0 : status.stage,\r\n                queue: true,\r\n                endpoint: _endpoint,\r\n                fn_index\r\n              });\r\n            }\r\n            if (data2) {\r\n              fire_event({\r\n                type: \"data\",\r\n                time: /* @__PURE__ */ new Date(),\r\n                data: handle_payload(\r\n                  data2.data,\r\n                  dependency,\r\n                  config.components,\r\n                  \"output\",\r\n                  options.with_null_state\r\n                ),\r\n                endpoint: _endpoint,\r\n                fn_index,\r\n                event_data,\r\n                trigger_id\r\n              });\r\n              if (complete) {\r\n                fire_event({\r\n                  type: \"status\",\r\n                  time: /* @__PURE__ */ new Date(),\r\n                  ...complete,\r\n                  stage: status == null ? void 0 : status.stage,\r\n                  queue: true,\r\n                  endpoint: _endpoint,\r\n                  fn_index\r\n                });\r\n                stream2 == null ? void 0 : stream2.close();\r\n                close();\r\n              }\r\n            }\r\n          };\r\n        } else if (protocol == \"sse_v1\" || protocol == \"sse_v2\" || protocol == \"sse_v2.1\" || protocol == \"sse_v3\") {\r\n          fire_event({\r\n            type: \"status\",\r\n            stage: \"pending\",\r\n            queue: true,\r\n            endpoint: _endpoint,\r\n            fn_index,\r\n            time: /* @__PURE__ */ new Date()\r\n          });\r\n          let hostname = \"\";\r\n          if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\r\n            hostname = (_a2 = window == null ? void 0 : window.location) == null ? void 0 : _a2.hostname;\r\n          }\r\n          let hfhubdev = \"dev.spaces.huggingface.tech\";\r\n          const origin = hostname.includes(\".dev.\") ? `https://moon-${hostname.split(\".\")[1]}.${hfhubdev}` : `https://huggingface.co`;\r\n          const is_zerogpu_iframe = typeof window !== \"undefined\" && typeof document !== \"undefined\" && window.parent != window && window.supports_zerogpu_headers;\r\n          const zerogpu_auth_promise = is_zerogpu_iframe ? post_message(\"zerogpu-headers\", origin) : Promise.resolve(null);\r\n          const post_data_promise = zerogpu_auth_promise.then((headers) => {\r\n            return post_data2(\r\n              `${config.root}${api_prefix}/${SSE_DATA_URL}?${url_params}`,\r\n              {\r\n                ...payload,\r\n                session_hash\r\n              },\r\n              headers\r\n            );\r\n          });\r\n          post_data_promise.then(async ([response, status]) => {\r\n            if (status === 503) {\r\n              fire_event({\r\n                type: \"status\",\r\n                stage: \"error\",\r\n                message: QUEUE_FULL_MSG,\r\n                queue: true,\r\n                endpoint: _endpoint,\r\n                fn_index,\r\n                time: /* @__PURE__ */ new Date()\r\n              });\r\n            } else if (status !== 200) {\r\n              fire_event({\r\n                type: \"status\",\r\n                stage: \"error\",\r\n                message: BROKEN_CONNECTION_MSG,\r\n                queue: true,\r\n                endpoint: _endpoint,\r\n                fn_index,\r\n                time: /* @__PURE__ */ new Date()\r\n              });\r\n            } else {\r\n              event_id = response.event_id;\r\n              event_id_final = event_id;\r\n              let callback = async function(_data) {\r\n                try {\r\n                  const { type, status: status2, data: data2, original_msg } = handle_message(\r\n                    _data,\r\n                    last_status[fn_index]\r\n                  );\r\n                  if (type == \"heartbeat\") {\r\n                    return;\r\n                  }\r\n                  if (type === \"update\" && status2 && !complete) {\r\n                    fire_event({\r\n                      type: \"status\",\r\n                      endpoint: _endpoint,\r\n                      fn_index,\r\n                      time: /* @__PURE__ */ new Date(),\r\n                      original_msg,\r\n                      ...status2\r\n                    });\r\n                  } else if (type === \"complete\") {\r\n                    complete = status2;\r\n                  } else if (type == \"unexpected_error\") {\r\n                    console.error(\"Unexpected error\", status2 == null ? void 0 : status2.message);\r\n                    fire_event({\r\n                      type: \"status\",\r\n                      stage: \"error\",\r\n                      message: (status2 == null ? void 0 : status2.message) || \"An Unexpected Error Occurred!\",\r\n                      queue: true,\r\n                      endpoint: _endpoint,\r\n                      fn_index,\r\n                      time: /* @__PURE__ */ new Date()\r\n                    });\r\n                  } else if (type === \"log\") {\r\n                    fire_event({\r\n                      type: \"log\",\r\n                      title: data2.title,\r\n                      log: data2.log,\r\n                      level: data2.level,\r\n                      endpoint: _endpoint,\r\n                      duration: data2.duration,\r\n                      visible: data2.visible,\r\n                      fn_index\r\n                    });\r\n                    return;\r\n                  } else if (type === \"generating\" || type === \"streaming\") {\r\n                    fire_event({\r\n                      type: \"status\",\r\n                      time: /* @__PURE__ */ new Date(),\r\n                      ...status2,\r\n                      stage: status2 == null ? void 0 : status2.stage,\r\n                      queue: true,\r\n                      endpoint: _endpoint,\r\n                      fn_index\r\n                    });\r\n                    if (data2 && dependency.connection !== \"stream\" && [\"sse_v2\", \"sse_v2.1\", \"sse_v3\"].includes(protocol)) {\r\n                      apply_diff_stream(pending_diff_streams, event_id, data2);\r\n                    }\r\n                  }\r\n                  if (data2) {\r\n                    fire_event({\r\n                      type: \"data\",\r\n                      time: /* @__PURE__ */ new Date(),\r\n                      data: handle_payload(\r\n                        data2.data,\r\n                        dependency,\r\n                        config.components,\r\n                        \"output\",\r\n                        options.with_null_state\r\n                      ),\r\n                      endpoint: _endpoint,\r\n                      fn_index\r\n                    });\r\n                    if (data2.render_config) {\r\n                      await handle_render_config(data2.render_config);\r\n                    }\r\n                    if (complete) {\r\n                      fire_event({\r\n                        type: \"status\",\r\n                        time: /* @__PURE__ */ new Date(),\r\n                        ...complete,\r\n                        stage: status2 == null ? void 0 : status2.stage,\r\n                        queue: true,\r\n                        endpoint: _endpoint,\r\n                        fn_index\r\n                      });\r\n                      close();\r\n                    }\r\n                  }\r\n                  if ((status2 == null ? void 0 : status2.stage) === \"complete\" || (status2 == null ? void 0 : status2.stage) === \"error\") {\r\n                    if (event_callbacks[event_id]) {\r\n                      delete event_callbacks[event_id];\r\n                    }\r\n                    if (event_id in pending_diff_streams) {\r\n                      delete pending_diff_streams[event_id];\r\n                    }\r\n                  }\r\n                } catch (e) {\r\n                  console.error(\"Unexpected client exception\", e);\r\n                  fire_event({\r\n                    type: \"status\",\r\n                    stage: \"error\",\r\n                    message: \"An Unexpected Error Occurred!\",\r\n                    queue: true,\r\n                    endpoint: _endpoint,\r\n                    fn_index,\r\n                    time: /* @__PURE__ */ new Date()\r\n                  });\r\n                  if ([\"sse_v2\", \"sse_v2.1\", \"sse_v3\"].includes(protocol)) {\r\n                    close_stream(stream_status, that.abort_controller);\r\n                    stream_status.open = false;\r\n                    close();\r\n                  }\r\n                }\r\n              };\r\n              if (event_id in pending_stream_messages) {\r\n                pending_stream_messages[event_id].forEach(\r\n                  (msg) => callback(msg)\r\n                );\r\n                delete pending_stream_messages[event_id];\r\n              }\r\n              event_callbacks[event_id] = callback;\r\n              unclosed_events.add(event_id);\r\n              if (!stream_status.open) {\r\n                await this.open_stream();\r\n              }\r\n            }\r\n          });\r\n        }\r\n      }\r\n    );\r\n    let done = false;\r\n    const values = [];\r\n    const resolvers = [];\r\n    const iterator = {\r\n      [Symbol.asyncIterator]: () => iterator,\r\n      next,\r\n      throw: async (value) => {\r\n        push_error(value);\r\n        return next();\r\n      },\r\n      return: async () => {\r\n        close();\r\n        return next();\r\n      },\r\n      cancel,\r\n      event_id: event_id_cb\r\n    };\r\n    return iterator;\r\n  } catch (error) {\r\n    console.error(\"Submit function encountered an error:\", error);\r\n    throw error;\r\n  }\r\n}\r\nfunction thenable_reject(error) {\r\n  return {\r\n    then: (resolve, reject) => reject(error)\r\n  };\r\n}\r\nfunction get_endpoint_info(api_info, endpoint, api_map, config) {\r\n  let fn_index;\r\n  let endpoint_info;\r\n  let dependency;\r\n  if (typeof endpoint === \"number\") {\r\n    fn_index = endpoint;\r\n    endpoint_info = api_info.unnamed_endpoints[fn_index];\r\n    dependency = config.dependencies.find((dep) => dep.id == endpoint);\r\n  } else {\r\n    const trimmed_endpoint = endpoint.replace(/^\\//, \"\");\r\n    fn_index = api_map[trimmed_endpoint];\r\n    endpoint_info = api_info.named_endpoints[endpoint.trim()];\r\n    dependency = config.dependencies.find(\r\n      (dep) => dep.id == api_map[trimmed_endpoint]\r\n    );\r\n  }\r\n  if (typeof fn_index !== \"number\") {\r\n    throw new Error(\r\n      \"There is no endpoint matching that name of fn_index matching that number.\"\r\n    );\r\n  }\r\n  return { fn_index, endpoint_info, dependency };\r\n}\r\nclass Client {\r\n  constructor(app_reference, options = { events: [\"data\"] }) {\r\n    __publicField(this, \"app_reference\");\r\n    __publicField(this, \"options\");\r\n    __publicField(this, \"deep_link\", null);\r\n    __publicField(this, \"config\");\r\n    __publicField(this, \"api_prefix\", \"\");\r\n    __publicField(this, \"api_info\");\r\n    __publicField(this, \"api_map\", {});\r\n    __publicField(this, \"session_hash\", Math.random().toString(36).substring(2));\r\n    __publicField(this, \"jwt\", false);\r\n    __publicField(this, \"last_status\", {});\r\n    __publicField(this, \"cookies\", null);\r\n    // streaming\r\n    __publicField(this, \"stream_status\", { open: false });\r\n    __publicField(this, \"closed\", false);\r\n    __publicField(this, \"pending_stream_messages\", {});\r\n    __publicField(this, \"pending_diff_streams\", {});\r\n    __publicField(this, \"event_callbacks\", {});\r\n    __publicField(this, \"unclosed_events\", /* @__PURE__ */ new Set());\r\n    __publicField(this, \"heartbeat_event\", null);\r\n    __publicField(this, \"abort_controller\", null);\r\n    __publicField(this, \"stream_instance\", null);\r\n    __publicField(this, \"current_payload\");\r\n    __publicField(this, \"ws_map\", {});\r\n    __publicField(this, \"view_api\");\r\n    __publicField(this, \"upload_files\");\r\n    __publicField(this, \"upload\");\r\n    __publicField(this, \"handle_blob\");\r\n    __publicField(this, \"post_data\");\r\n    __publicField(this, \"submit\");\r\n    __publicField(this, \"predict\");\r\n    __publicField(this, \"open_stream\");\r\n    __publicField(this, \"resolve_config\");\r\n    __publicField(this, \"resolve_cookies\");\r\n    var _a;\r\n    this.app_reference = app_reference;\r\n    this.deep_link = ((_a = options.query_params) == null ? void 0 : _a.deep_link) || null;\r\n    if (!options.events) {\r\n      options.events = [\"data\"];\r\n    }\r\n    this.options = options;\r\n    this.current_payload = {};\r\n    this.view_api = view_api.bind(this);\r\n    this.upload_files = upload_files.bind(this);\r\n    this.handle_blob = handle_blob.bind(this);\r\n    this.post_data = post_data.bind(this);\r\n    this.submit = submit.bind(this);\r\n    this.predict = predict.bind(this);\r\n    this.open_stream = open_stream.bind(this);\r\n    this.resolve_config = resolve_config.bind(this);\r\n    this.resolve_cookies = resolve_cookies.bind(this);\r\n    this.upload = upload.bind(this);\r\n    this.fetch = this.fetch.bind(this);\r\n    this.handle_space_success = this.handle_space_success.bind(this);\r\n    this.stream = this.stream.bind(this);\r\n  }\r\n  get_url_config(url = null) {\r\n    if (!this.config) {\r\n      throw new Error(CONFIG_ERROR_MSG);\r\n    }\r\n    if (url === null) {\r\n      url = window.location.href;\r\n    }\r\n    const stripSlashes = (str) => str.replace(/^\\/+|\\/+$/g, \"\");\r\n    let root_path = stripSlashes(new URL(this.config.root).pathname);\r\n    let url_path = stripSlashes(new URL(url).pathname);\r\n    let page;\r\n    if (!url_path.startsWith(root_path)) {\r\n      page = \"\";\r\n    } else {\r\n      page = stripSlashes(url_path.substring(root_path.length));\r\n    }\r\n    return this.get_page_config(page);\r\n  }\r\n  get_page_config(page) {\r\n    if (!this.config) {\r\n      throw new Error(CONFIG_ERROR_MSG);\r\n    }\r\n    let config = this.config;\r\n    if (!(page in config.page)) {\r\n      page = \"\";\r\n    }\r\n    return {\r\n      ...config,\r\n      current_page: page,\r\n      layout: config.page[page].layout,\r\n      components: config.components.filter(\r\n        (c) => config.page[page].components.includes(c.id)\r\n      ),\r\n      dependencies: this.config.dependencies.filter(\r\n        (d) => config.page[page].dependencies.includes(d.id)\r\n      )\r\n    };\r\n  }\r\n  fetch(input, init) {\r\n    const headers = new Headers((init == null ? void 0 : init.headers) || {});\r\n    if (this && this.cookies) {\r\n      headers.append(\"Cookie\", this.cookies);\r\n    }\r\n    if (this && this.options.headers) {\r\n      for (const name in this.options.headers) {\r\n        headers.append(name, this.options.headers[name]);\r\n      }\r\n    }\r\n    return fetch(input, { ...init, headers });\r\n  }\r\n  stream(url) {\r\n    const headers = new Headers();\r\n    if (this && this.cookies) {\r\n      headers.append(\"Cookie\", this.cookies);\r\n    }\r\n    if (this && this.options.headers) {\r\n      for (const name in this.options.headers) {\r\n        headers.append(name, this.options.headers[name]);\r\n      }\r\n    }\r\n    if (this && this.options.hf_token) {\r\n      headers.append(\"Authorization\", `Bearer ${this.options.hf_token}`);\r\n    }\r\n    this.abort_controller = new AbortController();\r\n    this.stream_instance = readable_stream(url.toString(), {\r\n      credentials: \"include\",\r\n      headers,\r\n      signal: this.abort_controller.signal\r\n    });\r\n    return this.stream_instance;\r\n  }\r\n  async init() {\r\n    var _a;\r\n    if ((typeof window === \"undefined\" || !(\"WebSocket\" in window)) && !global.WebSocket) {\r\n      const ws = await import(\"./wrapper-CviSselG.js\");\r\n      global.WebSocket = ws.WebSocket;\r\n    }\r\n    if (this.options.auth) {\r\n      await this.resolve_cookies();\r\n    }\r\n    await this._resolve_config().then(\r\n      ({ config }) => this._resolve_hearbeat(config)\r\n    );\r\n    this.api_info = await this.view_api();\r\n    this.api_map = map_names_to_ids(((_a = this.config) == null ? void 0 : _a.dependencies) || []);\r\n  }\r\n  async _resolve_hearbeat(_config) {\r\n    if (_config) {\r\n      this.config = _config;\r\n      this.api_prefix = _config.api_prefix || \"\";\r\n      if (this.config && this.config.connect_heartbeat) {\r\n        if (this.config.space_id && this.options.hf_token) {\r\n          this.jwt = await get_jwt(\r\n            this.config.space_id,\r\n            this.options.hf_token,\r\n            this.cookies\r\n          );\r\n        }\r\n      }\r\n    }\r\n    if (_config.space_id && this.options.hf_token) {\r\n      this.jwt = await get_jwt(_config.space_id, this.options.hf_token);\r\n    }\r\n    if (this.config && this.config.connect_heartbeat) {\r\n      const heartbeat_url = new URL(\r\n        `${this.config.root}${this.api_prefix}/${HEARTBEAT_URL}/${this.session_hash}`\r\n      );\r\n      if (this.jwt) {\r\n        heartbeat_url.searchParams.set(\"__sign\", this.jwt);\r\n      }\r\n      if (!this.heartbeat_event) {\r\n        this.heartbeat_event = this.stream(heartbeat_url);\r\n      }\r\n    }\r\n  }\r\n  static async connect(app_reference, options = {\r\n    events: [\"data\"]\r\n  }) {\r\n    const client2 = new this(app_reference, options);\r\n    await client2.init();\r\n    return client2;\r\n  }\r\n  close() {\r\n    this.closed = true;\r\n    close_stream(this.stream_status, this.abort_controller);\r\n  }\r\n  set_current_payload(payload) {\r\n    this.current_payload = payload;\r\n  }\r\n  static async duplicate(app_reference, options = {\r\n    events: [\"data\"]\r\n  }) {\r\n    return duplicate(app_reference, options);\r\n  }\r\n  async _resolve_config() {\r\n    const { http_protocol, host, space_id } = await process_endpoint(\r\n      this.app_reference,\r\n      this.options.hf_token\r\n    );\r\n    const { status_callback } = this.options;\r\n    if (space_id && status_callback) {\r\n      await check_and_wake_space(space_id, status_callback);\r\n    }\r\n    let config;\r\n    try {\r\n      let configUrl = `${http_protocol}//${host}`;\r\n      config = await this.resolve_config(configUrl);\r\n      if (!config) {\r\n        throw new Error(CONFIG_ERROR_MSG);\r\n      }\r\n      return this.config_success(config);\r\n    } catch (e) {\r\n      if (space_id && status_callback) {\r\n        check_space_status(\r\n          space_id,\r\n          RE_SPACE_NAME.test(space_id) ? \"space_name\" : \"subdomain\",\r\n          this.handle_space_success\r\n        );\r\n      } else {\r\n        if (status_callback)\r\n          status_callback({\r\n            status: \"error\",\r\n            message: \"Could not load this space.\",\r\n            load_status: \"error\",\r\n            detail: \"NOT_FOUND\"\r\n          });\r\n        throw Error(e);\r\n      }\r\n    }\r\n  }\r\n  async config_success(_config) {\r\n    this.config = _config;\r\n    this.api_prefix = _config.api_prefix || \"\";\r\n    if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\r\n      if (window.location.protocol === \"https:\") {\r\n        this.config.root = this.config.root.replace(\"http://\", \"https://\");\r\n      }\r\n    }\r\n    if (this.config.auth_required) {\r\n      return this.prepare_return_obj();\r\n    }\r\n    try {\r\n      this.api_info = await this.view_api();\r\n    } catch (e) {\r\n      console.error(API_INFO_ERROR_MSG + e.message);\r\n    }\r\n    return this.prepare_return_obj();\r\n  }\r\n  async handle_space_success(status) {\r\n    var _a;\r\n    if (!this) {\r\n      throw new Error(CONFIG_ERROR_MSG);\r\n    }\r\n    const { status_callback } = this.options;\r\n    if (status_callback)\r\n      status_callback(status);\r\n    if (status.status === \"running\") {\r\n      try {\r\n        this.config = await this._resolve_config();\r\n        this.api_prefix = ((_a = this == null ? void 0 : this.config) == null ? void 0 : _a.api_prefix) || \"\";\r\n        if (!this.config) {\r\n          throw new Error(CONFIG_ERROR_MSG);\r\n        }\r\n        const _config = await this.config_success(this.config);\r\n        return _config;\r\n      } catch (e) {\r\n        if (status_callback) {\r\n          status_callback({\r\n            status: \"error\",\r\n            message: \"Could not load this space.\",\r\n            load_status: \"error\",\r\n            detail: \"NOT_FOUND\"\r\n          });\r\n        }\r\n        throw e;\r\n      }\r\n    }\r\n  }\r\n  async component_server(component_id, fn_name, data) {\r\n    var _a;\r\n    if (!this.config) {\r\n      throw new Error(CONFIG_ERROR_MSG);\r\n    }\r\n    const headers = {};\r\n    const { hf_token } = this.options;\r\n    const { session_hash } = this;\r\n    if (hf_token) {\r\n      headers.Authorization = `Bearer ${this.options.hf_token}`;\r\n    }\r\n    let root_url;\r\n    let component = this.config.components.find(\r\n      (comp) => comp.id === component_id\r\n    );\r\n    if ((_a = component == null ? void 0 : component.props) == null ? void 0 : _a.root_url) {\r\n      root_url = component.props.root_url;\r\n    } else {\r\n      root_url = this.config.root;\r\n    }\r\n    let body;\r\n    if (\"binary\" in data) {\r\n      body = new FormData();\r\n      for (const key in data.data) {\r\n        if (key === \"binary\")\r\n          continue;\r\n        body.append(key, data.data[key]);\r\n      }\r\n      body.set(\"component_id\", component_id.toString());\r\n      body.set(\"fn_name\", fn_name);\r\n      body.set(\"session_hash\", session_hash);\r\n    } else {\r\n      body = JSON.stringify({\r\n        data,\r\n        component_id,\r\n        fn_name,\r\n        session_hash\r\n      });\r\n      headers[\"Content-Type\"] = \"application/json\";\r\n    }\r\n    if (hf_token) {\r\n      headers.Authorization = `Bearer ${hf_token}`;\r\n    }\r\n    try {\r\n      const response = await this.fetch(\r\n        `${root_url}${this.api_prefix}/${COMPONENT_SERVER_URL}/`,\r\n        {\r\n          method: \"POST\",\r\n          body,\r\n          headers,\r\n          credentials: \"include\"\r\n        }\r\n      );\r\n      if (!response.ok) {\r\n        throw new Error(\r\n          \"Could not connect to component server: \" + response.statusText\r\n        );\r\n      }\r\n      const output = await response.json();\r\n      return output;\r\n    } catch (e) {\r\n      console.warn(e);\r\n    }\r\n  }\r\n  set_cookies(raw_cookies) {\r\n    this.cookies = parse_and_set_cookies(raw_cookies).join(\"; \");\r\n  }\r\n  prepare_return_obj() {\r\n    return {\r\n      config: this.config,\r\n      predict: this.predict,\r\n      submit: this.submit,\r\n      view_api: this.view_api,\r\n      component_server: this.component_server\r\n    };\r\n  }\r\n  async connect_ws(url) {\r\n    return new Promise((resolve, reject) => {\r\n      let ws;\r\n      try {\r\n        ws = new WebSocket(url);\r\n      } catch (e) {\r\n        this.ws_map[url] = \"failed\";\r\n        return;\r\n      }\r\n      this.ws_map[url] = \"pending\";\r\n      ws.onopen = () => {\r\n        this.ws_map[url] = ws;\r\n        resolve();\r\n      };\r\n      ws.onerror = (error) => {\r\n        console.error(\"WebSocket error:\", error);\r\n        this.close_ws(url);\r\n        this.ws_map[url] = \"failed\";\r\n        resolve();\r\n      };\r\n      ws.onclose = () => {\r\n        this.ws_map[url] = \"closed\";\r\n      };\r\n      ws.onmessage = (event) => {\r\n      };\r\n    });\r\n  }\r\n  async send_ws_message(url, data) {\r\n    if (!(url in this.ws_map)) {\r\n      await this.connect_ws(url);\r\n    } else if (this.ws_map[url] === \"pending\" || this.ws_map[url] === \"closed\" || this.ws_map[url] === \"failed\") {\r\n      return;\r\n    }\r\n    const ws = this.ws_map[url];\r\n    if (ws instanceof WebSocket) {\r\n      ws.send(JSON.stringify(data));\r\n    } else {\r\n      this.post_data(url, data);\r\n    }\r\n  }\r\n  async close_ws(url) {\r\n    if (url in this.ws_map) {\r\n      const ws = this.ws_map[url];\r\n      if (ws instanceof WebSocket) {\r\n        ws.close();\r\n        delete this.ws_map[url];\r\n      }\r\n    }\r\n  }\r\n}\r\nasync function client(app_reference, options = {\r\n  events: [\"data\"]\r\n}) {\r\n  return await Client.connect(app_reference, options);\r\n}\r\nasync function duplicate_space(app_reference, options) {\r\n  return await Client.duplicate(app_reference, options);\r\n}\r\nexport {\r\n  Client,\r\n  FileData,\r\n  client,\r\n  duplicate_space as duplicate,\r\n  handle_file,\r\n  predict,\r\n  prepare_files,\r\n  submit,\r\n  upload,\r\n  upload_files\r\n};\r\n"],
  "mappings": "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",
  "names": []
}
